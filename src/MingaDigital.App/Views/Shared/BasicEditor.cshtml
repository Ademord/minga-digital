@using System.Reflection
@using System.ComponentModel
@using System.ComponentModel.DataAnnotations

@{
    var model = (Object)Model;
    var modelType = model.GetType();
    var modelDescription = modelType.GetCustomAttribute<DescriptionAttribute>()?.Description;
    
    var displayProps =
      from prop in modelType.GetProperties()
      let disp = prop.GetCustomAttribute<DisplayAttribute>()
      where disp != null
      select prop;
    
    ViewBag.Title = ViewBag.ActionName + " " + modelDescription;
}

<div class="entity-editor">
  <h2 class="page-header">
    @ViewBag.Title
  </h2>
  
  <form method="POST">
    @Html.ValidationSummary("")
    
  @foreach (var prop in displayProps)
  {
    <div class="form-group">
      @Html.Label(prop.Name, null, new { @class = "control-label" })
      
      @Html.TextBox(prop.Name, null, new { @class = "form-control" })
    </div>
  }
    
    <div class="text-right">
      <a href="@Url.Action("Index")" class="btn btn-link">Cancelar</a>
      
      <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
  </form>
</div>